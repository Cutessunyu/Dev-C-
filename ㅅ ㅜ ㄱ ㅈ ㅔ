#include <stdio.h>
#include <algorithm>
using namespace std;

pair<int, int> d[500000];
int lis[500000];

bool cmp(pair<int, int> l, pair<int, int> r) {
    if (l.first != r.first) return l.first < r.first;
    return l.second > r.second;
}

int main() {
    int n;
    scanf("%d", &n);

    int idx;a

    for (int i = 0; i < n; i++) {
        scanf("%lld %lld %lld", &idx, &d[i].first, &d[i].second);
    }
    sort(d, d + n, cmp);
    int len = 0;

    for (int i = 0; i < n; i++) {
        long long val = -d[i].second;
        int pos = lower_bound(lis, lis + len, val) - lis;

        lis[pos] = val;
        if (pos == len) len++;
    }

    printf("%d\n", len);
    return 0;
}
